---
rhbase_firewall_allow_services:
  - http
  - https
rhbase_firewall_allow_ports:
  - 9090/tcp
  - 3000/tcp
  - 9116/tcp

rhbase_user_groups:
  - sslcerts


dns_nameservers: 
  - 172.16.1.66 
  - 10.0.2.3

prometheus_scrape_configs:
  - job_name: "bind"
    metrics_path: "/metrics"
    static_configs:
      - targets:
        - bravo1.green.local:9119
        - charlie1.green.local:9119

  - job_name: "nginx"
    metrics_path: "/metrics"
    static_configs:
      - targets:
        - echo1.green.local:9113
        - mike1.green.local:9113

  - job_name: "prometheus"    # Custom scrape job, here using `static_config`
    metrics_path: "/metrics"
    static_configs:
      - targets:
          # - "localhost:9090"
          - alfa1.green.local:9100
          - bravo1.green.local:9100
          - charlie1.green.local:9100
          - delta1.green.local:9100
          - echo1.green.local:9100
          - kilo1.green.local:9100
          - lima1.green.local:9100
          - mike1.green.local:9100
          - november1.green.local:9100
          - oscar1.green.local:9100
          - papa1.green.local:9100
          - quebec1.green.local:9100
          - 172.16.0.0:9100
          - 172.16.0.1:9100
          - 172.16.0.2:9100
          - 172.16.0.3:9100
          - 172.16.0.4:9100
          - 172.16.0.5:9100
          - 172.16.0.6:9100
          - 172.16.0.7:9100
          - 172.16.0.8:9100
          - 172.16.0.9:9100
          - 172.16.0.10:9100
          - 172.16.0.11:9100
          - 172.16.0.12:9100
          - 172.16.0.13:9100
          - 172.16.0.14:9100
          - 172.16.0.15:9100
          - 172.16.0.16:9100
          - 172.16.0.17:9100
          - 172.16.0.18:9100
          - 172.16.0.19:9100
          - 172.16.0.20:9100
          - 172.16.0.21:9100
          - 172.16.0.22:9100
          - 172.16.0.23:9100
          - 172.16.0.24:9100
          - 172.16.0.25:9100
          - 172.16.0.26:9100
          - 172.16.0.27:9100
          - 172.16.0.28:9100
          - 172.16.0.29:9100
          - 172.16.0.30:9100
          - 172.16.0.31:9100
          - 172.16.0.32:9100
          - 172.16.0.33:9100
          - 172.16.0.34:9100
          - 172.16.0.35:9100
          - 172.16.0.36:9100
          - 172.16.0.37:9100
          - 172.16.0.38:9100
          - 172.16.0.39:9100
          - 172.16.0.40:9100
          - 172.16.0.41:9100
          - 172.16.0.42:9100
          - 172.16.0.43:9100
          - 172.16.0.44:9100
          - 172.16.0.45:9100
          - 172.16.0.46:9100
          - 172.16.0.47:9100
          - 172.16.0.48:9100
          - 172.16.0.49:9100
          - 172.16.0.50:9100
          - 172.16.0.51:9100
          - 172.16.0.52:9100
          - 172.16.0.53:9100
          - 172.16.0.54:9100
          - 172.16.0.55:9100
          - 172.16.0.56:9100
          - 172.16.0.57:9100
          - 172.16.0.58:9100
          - 172.16.0.59:9100
          - 172.16.0.60:9100
          - 172.16.0.61:9100
          - 172.16.0.62:9100
          - 172.16.0.63:9100
          - 172.16.0.64:9100
          - 172.16.0.65:9100
          - 172.16.0.66:9100
          - 172.16.0.67:9100
          - 172.16.0.68:9100
          - 172.16.0.69:9100
          - 172.16.0.70:9100
          - 172.16.0.71:9100
          - 172.16.0.72:9100
          - 172.16.0.73:9100
          - 172.16.0.74:9100
          - 172.16.0.75:9100
          - 172.16.0.76:9100
          - 172.16.0.77:9100
          - 172.16.0.78:9100
          - 172.16.0.79:9100
          - 172.16.0.80:9100
          - 172.16.0.81:9100
          - 172.16.0.82:9100
          - 172.16.0.83:9100
          - 172.16.0.84:9100
          - 172.16.0.85:9100
          - 172.16.0.86:9100
          - 172.16.0.87:9100
          - 172.16.0.88:9100
          - 172.16.0.89:9100
          - 172.16.0.90:9100
          - 172.16.0.91:9100
          - 172.16.0.92:9100
          - 172.16.0.93:9100
          - 172.16.0.94:9100
          - 172.16.0.95:9100
          - 172.16.0.96:9100
          - 172.16.0.97:9100
          - 172.16.0.98:9100
          - 172.16.0.99:9100
          - 172.16.0.100:9100
          - 172.16.0.101:9100
          - 172.16.0.102:9100
          - 172.16.0.103:9100
          - 172.16.0.104:9100
          - 172.16.0.105:9100
          - 172.16.0.106:9100
          - 172.16.0.107:9100
          - 172.16.0.108:9100
          - 172.16.0.109:9100
          - 172.16.0.110:9100
          - 172.16.0.111:9100
          - 172.16.0.112:9100
          - 172.16.0.113:9100
          - 172.16.0.114:9100
          - 172.16.0.115:9100
          - 172.16.0.116:9100
          - 172.16.0.117:9100
          - 172.16.0.118:9100
          - 172.16.0.119:9100
          - 172.16.0.120:9100
          - 172.16.0.121:9100
          - 172.16.0.122:9100
          - 172.16.0.123:9100
          - 172.16.0.124:9100
          - 172.16.0.125:9100
          - 172.16.0.126:9100
          - 172.16.0.127:9100
          - 172.16.0.128:9100
          - 172.16.0.129:9100
          - 172.16.0.130:9100
          - 172.16.0.131:9100
          - 172.16.0.132:9100
          - 172.16.0.133:9100
          - 172.16.0.134:9100
          - 172.16.0.135:9100
          - 172.16.0.136:9100
          - 172.16.0.137:9100
          - 172.16.0.138:9100
          - 172.16.0.139:9100
          - 172.16.0.140:9100
          - 172.16.0.141:9100
          - 172.16.0.142:9100
          - 172.16.0.143:9100
          - 172.16.0.144:9100
          - 172.16.0.145:9100
          - 172.16.0.146:9100
          - 172.16.0.147:9100
          - 172.16.0.148:9100
          - 172.16.0.149:9100
          - 172.16.0.150:9100
          - 172.16.0.151:9100
          - 172.16.0.152:9100
          - 172.16.0.153:9100
          - 172.16.0.154:9100
          - 172.16.0.155:9100
          - 172.16.0.156:9100
          - 172.16.0.157:9100
          - 172.16.0.158:9100
          - 172.16.0.159:9100
          - 172.16.0.160:9100
          - 172.16.0.161:9100
          - 172.16.0.162:9100
          - 172.16.0.163:9100
          - 172.16.0.164:9100
          - 172.16.0.165:9100
          - 172.16.0.166:9100
          - 172.16.0.167:9100
          - 172.16.0.168:9100
          - 172.16.0.169:9100
          - 172.16.0.170:9100
          - 172.16.0.171:9100
          - 172.16.0.172:9100
          - 172.16.0.173:9100
          - 172.16.0.174:9100
          - 172.16.0.175:9100
          - 172.16.0.176:9100
          - 172.16.0.177:9100
          - 172.16.0.178:9100
          - 172.16.0.179:9100
          - 172.16.0.180:9100
          - 172.16.0.181:9100
          - 172.16.0.182:9100
          - 172.16.0.183:9100
          - 172.16.0.184:9100
          - 172.16.0.185:9100
          - 172.16.0.186:9100
          - 172.16.0.187:9100
          - 172.16.0.188:9100
          - 172.16.0.189:9100
          - 172.16.0.190:9100
          - 172.16.0.191:9100
          - 172.16.0.192:9100
          - 172.16.0.193:9100
          - 172.16.0.194:9100
          - 172.16.0.195:9100
          - 172.16.0.196:9100
          - 172.16.0.197:9100
          - 172.16.0.198:9100
          - 172.16.0.199:9100
          - 172.16.0.200:9100
          - 172.16.0.201:9100
          - 172.16.0.202:9100
          - 172.16.0.203:9100
          - 172.16.0.204:9100
          - 172.16.0.205:9100
          - 172.16.0.206:9100
          - 172.16.0.207:9100
          - 172.16.0.208:9100
          - 172.16.0.209:9100
          - 172.16.0.210:9100
          - 172.16.0.211:9100
          - 172.16.0.212:9100
          - 172.16.0.213:9100
          - 172.16.0.214:9100
          - 172.16.0.215:9100
          - 172.16.0.216:9100
          - 172.16.0.217:9100
          - 172.16.0.218:9100
          - 172.16.0.219:9100
          - 172.16.0.220:9100
          - 172.16.0.221:9100
          - 172.16.0.222:9100
          - 172.16.0.223:9100
          - 172.16.0.224:9100
          - 172.16.0.225:9100
          - 172.16.0.226:9100
          - 172.16.0.227:9100
          - 172.16.0.228:9100
          - 172.16.0.229:9100
          - 172.16.0.230:9100
          - 172.16.0.231:9100
          - 172.16.0.232:9100
          - 172.16.0.233:9100
          - 172.16.0.234:9100
          - 172.16.0.235:9100
          - 172.16.0.236:9100
          - 172.16.0.237:9100
          - 172.16.0.238:9100
          - 172.16.0.239:9100
          - 172.16.0.240:9100
          - 172.16.0.241:9100
          - 172.16.0.242:9100
          - 172.16.0.243:9100
          - 172.16.0.244:9100
          - 172.16.0.245:9100
          - 172.16.0.246:9100
          - 172.16.0.247:9100
          - 172.16.0.248:9100
          - 172.16.0.249:9100
          - 172.16.0.250:9100
          - 172.16.0.251:9100
          - 172.16.0.252:9100
          - 172.16.0.253:9100
          - 172.16.0.254:9100
  # - job_name: "servicediscovery"
  #   file_sd_configs:
  #     - files:
  #         - "{{ prometheus_config_dir }}/file_sd/node.yml" # This line loads file created from `prometheus_targets`
  - job_name: 'snmp'
    static_configs:
      - targets:
        - 172.16.1.97  # SNMP device.
        - 172.16.1.98
        - 172.16.1.80
        - 172.16.1.50
        - 172.16.0.80
        - zulu1.green.local
    metrics_path: /snmp
    params:
      module: [if_mib]
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
      - source_labels: [__param_target]
        target_label: instance
      - target_label: __address__
        replacement: 172.16.1.5:9116  # The SNMP exporter's real hostname:port.
  - job_name: "mysql"
    metrics_path: "/metrics"
    static_configs:
      - targets:
        - november1.green.local:9104

grafana_security:
  admin_user: admin
  admin_password: oscar1
grafana_datasources:
  - name: "prometheus"
    type: "prometheus"
    access: proxy
    url: 'http://localhost:9090'
    basicAuth: false
grafana_dashboards:
  - dashboard_id: 405 # Algemeen
    revision_id: 8
    datasource: 'prometheus' 
  - dashboard_id: 1860 # Node exporter full, 1 server tegelijk
    revision_id: 15
    datasource: 'prometheus' 
  - dashboard_id: 2408 # SNMP Interface throughput
    revision_id: 1
    datasource: 'prometheus'
  - dashboard_id: 10024 # BIND DNS
    revision_id: 1
    datasource: 'prometheus'
  - dashboard_id: 7362 # MySQL Overview
    revision_id: 5
    datasource: 'prometheus'
  - dashboard_id: 11199 # Nginx by nginxinc
    revision_id: 1
    datasource: 'prometheus'



#Specifies cert keys in order to allow https traffic
grafana_address: '172.16.1.5'
grafana_port: 3000
grafana_server:
  protocol: http
  cert_key: ""
  cert_file: ""

firewall_additional_rules:
  - "sudo iptables -t nat -I OUTPUT -p tcp -d 127.0.0.1 --dport 443 -j REDIRECT --to-ports 3000"
  - "sudo iptables -t nat -I PREROUTING -p tcp --dport 443 -j REDIRECT --to-ports 3000"  